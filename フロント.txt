ğŸ§© CVAT v2.43.0
Windows 11 + WSL2ï¼ˆUbuntuï¼‰ã§
WSLã‚’èµ·å‹• â†’ CVATã‚’èµ·å‹• â†’ UIé–‹ç™ºã™ã‚‹å®Œå…¨æ‰‹é †
0ï¸âƒ£ Windows å´ï¼šWSL2 ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹
0-1. ç®¡ç†è€… PowerShell ã‚’èµ·å‹•

ã‚¹ã‚¿ãƒ¼ãƒˆ â†’ã€ŒPowerShellã€å³ã‚¯ãƒªãƒƒã‚¯ â†’ ç®¡ç†è€…ã¨ã—ã¦å®Ÿè¡Œ

0-2. WSL ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
wsl --install


Ubuntu ãŒè‡ªå‹•ã§å…¥ã‚‹ï¼ˆ22.04 LTSï¼‰

å†èµ·å‹•ãŒå¿…é ˆ

1ï¸âƒ£ WSLï¼ˆUbuntuï¼‰ã‚’èµ·å‹•ã™ã‚‹
1-1. Ubuntu ã‚’èµ·å‹•

ä»¥ä¸‹ã©ã¡ã‚‰ã‹ï¼š

ã‚¹ã‚¿ãƒ¼ãƒˆãƒ¡ãƒ‹ãƒ¥ãƒ¼ â†’ Ubuntu

PowerShell ã‹ã‚‰ï¼š

wsl


ğŸ‘‡
ã“ã“ã‹ã‚‰å…ˆã¯ ã™ã¹ã¦ Linuxï¼ˆWSLï¼‰ã®ã‚¿ãƒ¼ãƒŸãƒŠãƒ«æ“ä½œ

1-2. åˆå›ã®ã¿ï¼šLinux ãƒ¦ãƒ¼ã‚¶ä½œæˆ
Enter new UNIX username:
Enter new UNIX password:


â†’ å®Œäº†ã™ã‚‹ã¨ username@PCNAME:~$ ã«ãªã‚‹

2ï¸âƒ£ Docker Desktop ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼ˆWindowsï¼‰

â€» ã¾ã ãªã‚‰

https://www.docker.com/products/docker-desktop/

2-1. Docker è¨­å®šç¢ºèª

Docker Desktop â†’

Settings â†’ Resources â†’ WSL Integration

Ubuntu ã« â˜‘

Apply & Restart

2-2. WSL å´ã§ Docker ãŒä½¿ãˆã‚‹ã‹ç¢ºèª

ï¼ˆUbuntu ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ï¼‰

docker --version
docker compose version


âŒ å‡ºãªã„ â†’ Docker Desktop æœªèµ·å‹• or é€£æºOFF

3ï¸âƒ£ WSLï¼ˆUbuntuï¼‰ã« nvm ã‚’å…¥ã‚Œã‚‹
curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.7/install.sh | bash
source ~/.bashrc


ç¢ºèªï¼š

nvm --version

4ï¸âƒ£ Node.jsï¼ˆCVAT ç”¨ï¼‰
nvm install 20
nvm use 20
nvm alias default 20


ç¢ºèªï¼š

node -v
# v20.x.x

5ï¸âƒ£ Yarnï¼ˆclassicï¼‰
npm install -g yarn


ç¢ºèªï¼š

yarn -v
# 1.22.x

6ï¸âƒ£ WSLä¸Šã§ CVAT ã‚’å–å¾—ã™ã‚‹

âš  çµ¶å¯¾ã« /mnt/c ã§ã¯ä½œæ¥­ã—ãªã„

cd ~
git clone https://github.com/opencv/cvat.git
cd cvat
git checkout v2.43.0

7ï¸âƒ£ CVAT ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚’èµ·å‹•ã™ã‚‹ï¼ˆWSLä¸Šï¼‰
docker compose up -d

7-1. èµ·å‹•ç¢ºèªï¼ˆWindowsã®ãƒ–ãƒ©ã‚¦ã‚¶ï¼‰
http://localhost:8080/tasks


âœ” ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢ãŒå‡ºã‚‹
âœ” åˆå›ãƒ¦ãƒ¼ã‚¶ã‚’ä½œæˆã™ã‚‹

âŒ ã“ã“ãŒå‹•ã‹ãªã„ã¨ UIã¯çµ¶å¯¾ã«å‹•ã‹ãªã„

8ï¸âƒ£ ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ä¾å­˜é–¢ä¿‚ã‚’å…¥ã‚Œã‚‹ï¼ˆWSLï¼‰
cd ~/cvat/cvat-ui
yarn install


ã‚ˆãå‡ºã‚‹ãŒå•é¡Œãªã—ï¼š

node-gyp configure failed

.husky/pre-commit not found

ğŸ‘‰ Done ãŒå‡ºã‚Œã°æˆåŠŸ

9ï¸âƒ£ ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‚’èµ·å‹•ã™ã‚‹ï¼ˆ3000ï¼‰
yarn start --env API_URL=http://localhost:8080

9-1. ãƒ–ãƒ©ã‚¦ã‚¶ã§ç¢ºèª
http://localhost:3000

ğŸ” Hot Reload
~/cvat/cvat-ui/src/components


ç·¨é›† â†’ ä¿å­˜ â†’ å³åæ˜ 

ğŸ§  é‡è¦ãƒã‚¤ãƒ³ãƒˆï¼ˆWSLé‹ç”¨ï¼‰
âœ… WSLã‚’ã€Œèµ·å‹•ã™ã‚‹ã€ã¨ã¯ï¼Ÿ

Ubuntu ã‚¢ãƒ—ãƒªã‚’é–‹ã

or wsl ã‚³ãƒãƒ³ãƒ‰ã‚’æ‰“ã¤
â†’ ãã‚ŒãŒ Linux ãƒã‚·ãƒ³ã®é›»æºONç›¸å½“

âœ… VS Code
code .


â†’ è‡ªå‹•ã§ Remote - WSL ã«ãªã‚‹

âŒ ã‚„ã£ã¦ã¯ã„ã‘ãªã„

/mnt/c é…ä¸‹ã§ä½œæ¥­

Windows å´ Node / yarn ã‚’ä½¿ã†

Docker Desktop ã‚’æ­¢ã‚ãŸã¾ã¾èµ·å‹•